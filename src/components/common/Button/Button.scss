// src/components/common/Button/Button.scss
.btn {
  --btn-bg: var(--color-primary);
  --btn-text: #fff;
  --btn-border: var(--color-primary);
  --btn-bg-hover: color-mix(in srgb, var(--color-primary) 90%, #fff 10%);
  --btn-shadow: var(--shadow-sm);

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--s-6);
  padding: calc(var(--s-6) + 2px) var(--s-12);
  border-radius: var(--radius-sm);
  border: 1px solid var(--btn-border);
  background: var(--btn-bg);
  color: var(--btn-text);
  text-decoration: none;
  line-height: 1;
  font-size: var(--fs-md);
  box-shadow: var(--btn-shadow);
  transition: transform 120ms ease, background-color 120ms ease, border-color 120ms ease,
    color 120ms ease, box-shadow 120ms ease;

  &:hover {
    background: var(--btn-bg-hover);
  }

  &:active {
    transform: translateY(1px);
  }

  &:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }

  &--block {
    width: 100%;
  }

  /* Sizes */
  &--sm {
    font-size: var(--fs-sm);
    padding: var(--s-6) var(--s-8);
  }
  &--md {
    font-size: var(--fs-md);
  }
  &--lg {
    font-size: var(--fs-lg);
    padding: calc(var(--s-8) + 2px) var(--s-16);
  }

  /* Variants */
  &--primary,
  --secondary {
    --btn-bg: var(--color-primary);
    --btn-border: var(--color-primary);
    --btn-text: #fff;
  }

  /*  &--secondary {
    --btn-bg: var(--color-surface);
    --btn-border: var(--color-border);
    --btn-text: var(--color-text);
    --btn-bg-hover: color-mix(in srgb, var(--color-surface) 85%, #fff 15%);
  } */

  &--ghost {
    --btn-bg: transparent;
    --btn-border: var(--color-border);
    --btn-text: var(--color-text);
    --btn-bg-hover: color-mix(in srgb, var(--color-surface) 75%, transparent 25%);
    box-shadow: none;
  }

  /* Content parts */
  &__label {
    white-space: nowrap;
  }

  &__icon {
    display: inline-flex;
    &--left {
      margin-inline-start: 0;
    }
    &--right {
      margin-inline-end: 0;
    }
  }

  /* Loading state */
  &__spinner {
    inline-size: 1em;
    block-size: 1em;
    border-radius: 50%;
    border: 2px solid currentColor;
    border-right-color: transparent;
    animation: btn-spin 0.8s linear infinite;
  }

  /* Disabled */
  &.is-disabled,
  &.is-loading {
    opacity: 0.65;
    pointer-events: none;
    filter: saturate(0.8);
  }
}

@keyframes btn-spin {
  to {
    transform: rotate(360deg);
  }
}
